# 数组

数组的本质
--------------
> 本质上，数组属于一种特殊的对象。typeof运算符会返回数组的类型是object。

JavaScript语言规定，对象的键名一律为字符串，所以，数组的键名其实也是字符串。之所以可以用数值读取，是因为非字符串的键名会被转为字符串。

> 对象有两种读取成员的方法：“点”结构（object.key）和方括号结构（object[key]）。但是，对于数值的键名，不能使用点结构。
```
var arr = [1, 2, 3];
arr.0 // SyntaxError
```
>上面代码中，arr.0的写法不合法，因为单独的数值不能作为标识符（identifier）。所以，数组成员只能用方括号arr[0]表示（方括号是运算符，可以接受数值）。


length属性
--------------
* 只要是数组，就一定有length属性。该属性是一个动态的值，等于键名中的最大整数加上1。

* length属性是可写的。如果人为设置一个小于当前成员个数的值，该数组的成员会自动减少到length设置的值。(将数组清空的一个有效方法，就是将length属性设为0。)

* 如果人为设置length大于当前元素个数，则数组的成员数量会增加到这个值，新增的位置都是空位。

```
var a = [];

a['p'] = 'abc';
a.length // 0

a[2.1] = 'abc';
a.length // 0
```
> 上面代码将数组的键分别设为字符串和小数，结果都不影响length属性。因为，length属性的值就是等于最大的数字键加1，而这个数组没有整数键，所以length属性保持为0。

in 运算符
---------------
检查某个键名是否存在的运算符in，适用于对象，也适用于数组。
> 注意，如果数组的某个位置是空位，in运算符返回false。

for…in :循环和数组的遍历
--------------------
for...in不仅会遍历数组所有的数字键，还会遍历非数字键。

```
var a = [1, 2, 3];
a.foo = true;

for (var key in a) {
  console.log(key);
}
// 0
// 1
// 2
// foo
```
> 上面代码在遍历数组时，也遍历到了非整数键foo。所以，不推荐使用for...in遍历数组。

数组的空位
-----------------
* 当数组的某个位置是空元素，即两个逗号之间没有任何值，我们称该数组存在空位（hole）

* 使用delete命令删除一个数组成员，会形成空位，并且不会影响length属性。

* 数组的某个位置是空位，与某个位置是undefined，是不一样的。如果是空位，使用数组的forEach方法、for...in结构、以及Object.keys方法进行遍历，空位都会被跳过。


