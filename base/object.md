# 对象
表达式还是语句？
===============
对象采用大括号表示，这导致了一个问题：如果行首是一个大括号，它到底是表达式还是语句？
```
{ foo: 123 }
```

JavaScript引擎读到上面这行代码，会发现可能有两种含义。第一种可能是，这是一个表达式，表示一个包含foo属性的对象；第二种可能是，这是一个语句，表示一个代码区块，里面有一个标签foo，指向表达式123。
为了避免这种歧义，JavaScript规定，如果行首是大括号，一律解释为语句（即代码块）。如果要解释为表达式（即对象），必须在大括号前加上圆括号。

```
({ foo: 123})
```
这种差异在eval语句中反映得最明显。

```
eval('{foo: 123}') // 123
eval('({foo: 123})') // {foo: 123}
```

上面代码中，如果没有圆括号，eval将其理解为一个代码块；加上圆括号以后，就理解成一个对象。

检查变量是否声明
===========
如果读取一个不存在的键，会返回undefined，而不是报错。可以利用这一点，来检查一个全局变量是否被声明。

```
// 检查a变量是否被声明
if (a) {...} // 报错

if (window.a) {...} // 不报错
if (window['a']) {...} // 不报错
```

上面的后二种写法之所以不报错，是因为在浏览器环境，所有全局变量都是window对象的属性。window.a的含义就是读取window对象的a属性，如果该属性不存在，就返回undefined，并不会报错。

需要注意的是，后二种写法有漏洞，如果a属性是一个空字符串（或其他对应的布尔值为false的情况），则无法起到检查变量是否声明的作用。正确的做法是可以采用下面的写法。

```
if ('a' in window) {
  // 变量 a 声明过
} else {
  // 变量 a 未声明
}
```

> 查看一个对象本身的所有属性，可以使用Object.keys方法。
```
var o = {
  key1: 1,
  key2: 2
};

Object.keys(o);
// ['key1', 'key2']

```

delete:命令用于删除对象的属性，删除成功后返回true。
================

* 注意，删除一个不存在的属性，delete不报错，而且返回true。
* 只有一种情况，delete命令会返回false，那就是该属性存在，且不得删除。
* 最后，delete命令不能删除var命令声明的变量，只能用来删除属性。（为var声明的全局变量都是顶层对象的属性，而且默认不得删除。）

in:运算符用于检查对象是否包含某个属性（注意，检查的是键名，不是键值），如果包含就返回true，否则返回false。
=====================

```
var o = { p: 1 };
'p' in o // true
```
```
// 假设变量x未定义

// 写法一：报错
if (x) { return 1; }

// 写法二：不正确
if (window.x) { return 1; }

// 写法三：正确
if ('x' in window) { return 1; }
```


for...in循环用来遍历一个对象的全部属性。
====================

* 它遍历的是对象所有可遍历（enumerable）的属性，会跳过不可遍历的属性
* 它不仅遍历对象自身的属性，还遍历继承的属性。








